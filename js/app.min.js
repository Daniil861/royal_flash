(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",15),document.querySelector(".check")&&(document.querySelector(".check").textContent=sessionStorage.getItem("money")),document.querySelector(".game")&&(+sessionStorage.getItem("money")>=1?(document.querySelector(".block-bet__coins").textContent=1,sessionStorage.setItem("current-bet",1)):(document.querySelector(".block-bet__coins").textContent=0,sessionStorage.setItem("current-bet",0))),sessionStorage.getItem("current-card")||sessionStorage.setItem("current-card",2);const t=document.querySelector(".preloader"),r=document.querySelector(".wrapper");function s(e){document.querySelectorAll(e).forEach((e=>e.classList.add("_no-money"))),setTimeout((()=>{document.querySelectorAll(e).forEach((e=>e.classList.remove("_no-money")))}),1e3)}function c(e,t){return Math.floor(Math.random()*(t-e)+e)}let o=document.querySelectorAll(".icon-anim img");document.querySelector(".icon-anim img")&&setInterval((()=>{!function(){let e=c(0,3),t=["jump","scale","rotate"],r=c(0,o.length);o.forEach((e=>{e.classList.contains("_anim-icon-jump")?e.classList.remove("_anim-icon-jump"):e.classList.contains("_anim-icon-scale")?e.classList.remove("_anim-icon-scale"):e.classList.contains("_anim-icon-rotate")&&e.classList.remove("_anim-icon-rotate")})),setTimeout((()=>{o[r].classList.add(`_anim-icon-${t[e]}`)}),100)}()}),1e4),document.querySelector(".main")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main").classList.add("_active");const n=7,a=12;if(document.querySelector(".shop")){let e=2;sessionStorage.getItem("current-card")&&(e=sessionStorage.getItem("current-card")),u(e),sessionStorage.getItem("card-1")&&i(1),sessionStorage.getItem("card-3")&&i(3)}function d(e,t){sessionStorage.getItem(`card-${e}`)?(sessionStorage.setItem("current-card",e),u(e)):+sessionStorage.getItem("money")>=t?(sessionStorage.setItem(`card-${e}`,!0),setTimeout((()=>{i(e)}),500),function(e,t){let r=+sessionStorage.getItem("money");sessionStorage.setItem("money",r-e),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.add("_delete-money"))),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money")))}),500),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_delete-money")))}),1500)}(t,".check")):+sessionStorage.getItem("money")<t&&s(".check")}function i(e){document.querySelector(`.cards__button_${e}`).remove();let t=document.createElement("div");t.classList.add("cards__button"),t.classList.add("button");let r=document.createElement("p");r.classList.add("text"),r.textContent="select",t.append(r),document.querySelector(`.cards__item_${e}`).append(t)}function u(e){document.querySelector(".cards__pin")&&document.querySelector(".cards__pin").remove();let t=document.createElement("div");t.classList.add("cards__pin");let r=document.createElement("img");r.setAttribute("src","img/icons/check-mark.png"),r.setAttribute("alt","Icon"),t.append(r),document.querySelector(`.cards__image_${e}`).append(t)}const l={program:1,card_current_arr:[],card_numbers:[],card_suits:[],count_collision:0,arr_collision:[]};let m=document.querySelectorAll(".cards-game__image");function _(){document.querySelector(".cards-game__icon").remove(),document.querySelector(".cards-game__text").remove();let e=l.program,t=document.createElement("div");t.classList.add("cards-game__icon");let r=document.createElement("img");r.setAttribute("src","img/icons/deal-icon.svg"),2==e?r.setAttribute("src","img/icons/draw-icon.svg"):3==e&&r.setAttribute("src","img/icons/collect-icon.svg"),t.append(r);let s=document.createElement("div");s.classList.add("cards-game__text"),s.textContent="deal",document.querySelector(".cards-game__button").dataset.target=1,2==e?(s.textContent="draw",document.querySelector(".cards-game__button").dataset.target=2):3==e&&(s.textContent="collect",document.querySelector(".cards-game__button").dataset.target=3),document.querySelector(".cards-game__inner").append(t,s)}function g(e,t){let r=e[t],s=document.createElement("img");return s.setAttribute("src",`img/cards/${r}.png`),s.setAttribute("data-number",r),s.setAttribute("alt","Image"),s.classList.add("tail"),s}function b(){let e=["a","a","a","a","b","b","b","b","c","c","c","c","d","d","d","d","j"][c(1,17)],t=c(2,14),r="";return"j"==e?(r="15-j",t=15,e="j"):r=`${t}-${e}`,l.card_current_arr.includes(r)?b():(l.card_numbers.push(t),l.card_suits.push(e),l.card_current_arr.push(r),r)}function p(){let e=document.querySelectorAll(".cards-game__image");l.card_numbers[0]!=l.card_numbers[1]&&l.card_numbers[0]!=l.card_numbers[2]&&l.card_numbers[0]!=l.card_numbers[3]&&l.card_numbers[0]!=l.card_numbers[4]||(console.log("Первая  карты равны"),l.count_collision+=1,l.arr_collision.push(l.card_numbers[0])),l.card_numbers[1]!=l.card_numbers[2]&&l.card_numbers[1]!=l.card_numbers[3]&&l.card_numbers[1]!=l.card_numbers[4]||(console.log("2 и  карты равны"),l.count_collision+=1,l.arr_collision.push(l.card_numbers[1])),l.card_numbers[2]!=l.card_numbers[3]&&l.card_numbers[2]!=l.card_numbers[4]||(console.log("3 и  карты равны"),l.count_collision+=1,l.arr_collision.push(l.card_numbers[2])),l.card_numbers[3]==l.card_numbers[4]&&(console.log("4 и  карты равны"),l.count_collision+=1,l.arr_collision.push(l.card_numbers[3])),e.forEach((e=>{e.dataset.number==l.arr_collision[0]&&(e.append(function(){let e=document.createElement("div");e.classList.add("cards-game__coin");let t=document.createElement("img");return t.setAttribute("src","img/icons/coin-3.png"),e.append(t),e}()),e.classList.add("_selected"))}))}document.querySelector(".game")&&(!function(){let e=+sessionStorage.getItem("current-card"),t=document.createElement("img");t.setAttribute("src",`img/cards/card-bg-${e}.png`),t.setAttribute("alt","Icon"),t.classList.add("head");let r=document.createElement("img");r.setAttribute("src",`img/cards/card-bg-${e}.png`),r.setAttribute("alt","Icon"),r.classList.add("head");let s=document.createElement("img");s.setAttribute("src",`img/cards/card-bg-${e}.png`),s.setAttribute("alt","Icon"),s.classList.add("head");let c=document.createElement("img");c.setAttribute("src",`img/cards/card-bg-${e}.png`),c.setAttribute("alt","Icon"),c.classList.add("head");let o=document.createElement("img");o.setAttribute("src",`img/cards/card-bg-${e}.png`),o.setAttribute("alt","Icon"),o.classList.add("head"),document.querySelectorAll(".cards-game__image").forEach(((e,n)=>{0==n?e.append(t):1==n?e.append(r):2==n?e.append(s):3==n?e.append(c):4==n&&e.append(o)}))}(),_()),document.addEventListener("click",(e=>{let c=e.target;if(c.closest(".preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),r.classList.add("_visible"),document.querySelector(".main")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main").classList.add("_active")),c.closest(".block-bet__minus")){let e=+sessionStorage.getItem("current-bet");e>=1&&(sessionStorage.setItem("current-bet",e-1),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet"))}if(c.closest(".block-bet__plus")){let e=+sessionStorage.getItem("current-bet");+sessionStorage.getItem("money")-1>e?e<5&&(sessionStorage.setItem("current-bet",e+1),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")):s(".check")}c.closest(".cards__button")&&c.closest(".cards__item_1")&&d(1,n),c.closest(".cards__button")&&c.closest(".cards__item_2")&&(sessionStorage.setItem("current-card",2),u(2)),c.closest(".cards__button")&&c.closest(".cards__item_3")&&d(3,a),c.closest(".cards-game__button")&&1==c.closest(".cards-game__button").dataset.target&&(l.program=1,l.card_current_arr=[],l.card_numbers=[],l.card_suits=[],l.count_collision=0,l.arr_collision=[],document.querySelectorAll(".cards-game__image").forEach((e=>e.classList.remove("_rotate"))),function(){b(),b(),b(),b(),b();let e=document.querySelectorAll(".cards-game__image");e[0].append(g(l.card_current_arr,0)),e[0].dataset.number=l.card_numbers[0],e[0].dataset.suit=l.card_suits[0],e[1].append(g(l.card_current_arr,1)),e[1].dataset.number=l.card_numbers[1],e[1].dataset.suit=l.card_suits[1],e[2].append(g(l.card_current_arr,2)),e[2].dataset.number=l.card_numbers[2],e[2].dataset.suit=l.card_suits[2],e[3].append(g(l.card_current_arr,3)),e[3].dataset.number=l.card_numbers[3],e[3].dataset.suit=l.card_suits[3],e[4].append(g(l.card_current_arr,4)),e[4].dataset.number=l.card_numbers[4],e[4].dataset.suit=l.card_suits[4]}(),setTimeout((()=>{document.querySelectorAll(".cards-game__image").forEach(((e,t)=>{0==t?setTimeout((()=>{e.classList.add("_rotate")}),200):1==t?setTimeout((()=>{e.classList.add("_rotate")}),400):2==t?setTimeout((()=>{e.classList.add("_rotate")}),600):3==t?setTimeout((()=>{e.classList.add("_rotate")}),800):4==t&&setTimeout((()=>{e.classList.add("_rotate")}),1e3)}))}),1e3),setTimeout((()=>{p(),function(){let e=[];m.forEach((t=>{!t.classList.contains("_selected")&&l.count_collision>0&&(console.log(t),e.push(t))})),console.log(e),e.length>0&&(l.program=2,_())}()}),3e3),setTimeout((()=>{console.log(`config_game.arr_collision (здесь номера, которые совпали) - ${l.arr_collision}`),console.log(`config_game.card_numbers (здесь все номера выпавших карт) - ${l.card_numbers}`),console.log(`config_game.card_suits (здесь все масти выпавших карт) - ${l.card_suits}`),console.log(`config_game.count_collision (количество коллизий) - ${l.count_collision}`)}),4e3))})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();